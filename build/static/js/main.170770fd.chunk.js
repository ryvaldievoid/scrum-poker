(this["webpackJsonpscrum-poker"]=this["webpackJsonpscrum-poker"]||[]).push([[0],{25:function(e,t,a){},29:function(e,t,a){e.exports=a.p+"static/media/banner.4e801b40.png"},30:function(e,t,a){e.exports=a.p+"static/media/card_background.b58fb036.png"},34:function(e,t,a){e.exports=a(58)},39:function(e,t,a){},51:function(e,t,a){},52:function(e,t,a){},53:function(e,t,a){},58:function(e,t,a){"use strict";a.r(t);var n=a(1),o=a.n(n),r=a(27),s=a.n(r),m=(a(39),a(31)),i=a(9),c=a(28),l=a(16),u=a(17),p=a(19),d=a(18),h=(a(25),a(29)),f=a.n(h),b=a(21),v=a.n(b);v.a.initializeApp({apiKey:"AIzaSyBnJf39lB5wjEc6CxHWMhOgauOUZurKKc8",authDomain:"scrum-poker-8410b.firebaseapp.com",databaseURL:"https://scrum-poker-8410b.firebaseio.com",projectId:"scrum-poker-8410b",storageBucket:"scrum-poker-8410b.appspot.com",messagingSenderId:"776481092580",appId:"1:776481092580:web:d5981806e91221e5ad8df1",measurementId:"G-X60WV364K1"});var _=v.a,y=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).getData=function(){n.setState.loading=!0;var e=_.database().ref(n.state.room_name),t=e.on("value",(function(a){e.off("value",t);var o=a.val();if(n.setState({loading:!1,rooms:o}),null!==o&&""!==n.state.room_name){n.setState({status:"join"});var r=n.state,s=r.room_name,m=r.name,i=r.status;n.props.history.push("/lobby",{room_name:s,name:m,status:i})}else{n.createRoom(),n.setState({status:"create"});var c=n.state,l=c.room_name,u=c.name,p=c.status;n.props.history.push("/lobby",{room_name:l,name:u,status:p})}}))},n.createRoom=function(){_.database().ref(n.state.room_name).set({creator:n.state.name,sessions:!1,story:"Your user story",team_member:[{name:n.state.name,story_point:"",status:!1}]})},n.handleSubmit=function(e){e.preventDefault(),n.getData()},n.handleInputChange=function(e){var t=e.target,a=t.name,o=t.value;n.setState(Object(c.a)({},a,o))},n.state={loading:!1,room_name:"",name:"",status:"",rooms:[]},n}return Object(u.a)(a,[{key:"render",value:function(){return o.a.createElement("div",{className:"App"},o.a.createElement("header",{className:"App-header"},o.a.createElement("div",null,o.a.createElement("img",{src:f.a,className:"App-logo",alt:"logo"}),o.a.createElement("h1",null,"Scrum Poker Online"),o.a.createElement("p",null,"Enter or Create a Room Here:"),o.a.createElement("form",{className:"login-form",autoComplete:"off",onSubmit:this.handleSubmit},o.a.createElement("div",{className:"form-row"},o.a.createElement("div",{style:{marginTop:"13px"}},o.a.createElement("input",{type:"text",ref:"room_name",name:"room_name",className:"form-control",placeholder:"Room Name",required:!0,onChange:this.handleInputChange,style:{height:"32px",width:"70%"}})),o.a.createElement("div",{style:{marginTop:"13px",marginBottom:"13px"}},o.a.createElement("input",{type:"text",ref:"name",name:"name",className:"form-control",placeholder:"Name",required:!0,onChange:this.handleInputChange,style:{height:"32px",width:"70%"}}))),o.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Submit")))))}},{key:"componentDidMount",value:function(){""===this.state.room_name?console.log("login dulu"):(console.log("udah login"),this.getData())}}]),a}(o.a.Component),g=a(30),E=a.n(g),C=(a(51),function(){return o.a.createElement("div",{className:"card"},o.a.createElement("div",{className:"card__points"},o.a.createElement("img",{style:{objectFit:"scale-down",width:"80px",height:"100px"},src:E.a,alt:"logo"})))}),k=(a(52),function(e){var t=e.card;return o.a.createElement("div",{className:"card"},o.a.createElement("div",{className:"card__points"},o.a.createElement("span",{dangerouslySetInnerHTML:{__html:t}})))}),S=function(e){return e.card?o.a.createElement(k,e):o.a.createElement(C,null)},N=(a(53),function(e,t,a,n,o,r){if(e.preventDefault(),!o&&null!==r){var s=[];r.map((function(e){return e.name!==n?s.push(e):s.push({name:n,story_point:t,status:!0})})),_.database().ref(a).update({team_member:s}),console.log("coba click kartu: "+t)}}),w=function(e){var t=e.cards,a=e.room_name,n=e.name,r=e.sessions,s=e.team_member;return o.a.createElement("div",{className:"centerDiv"},o.a.createElement("ul",{className:"cards"},t.map((function(e){return o.a.createElement("li",{className:"cards__card",key:e,onClick:function(t){return N(t,e,a,n,r,s)}},o.a.createElement(S,{card:e}))}))))},x=["0","1/2","1","2","3","5","8","13","21","?","Coffe?"],j=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).handleSubmit=function(e){var t="Reveal Cards"===n.state.button_status,a=n.props.location.state.room_name;if(_.database().ref(a).update({sessions:t}),t){var o=[];n.state.team_member.map((function(e){return o.push({name:e.name,story_point:e.story_point,status:!1})})),_.database().ref(a).update({team_member:o}),n.setState({button_status:"Reset"})}else n.setState({button_status:"Reveal Cards"})},n.handleInputChange=function(e){var t=e.target.value;n.updateUserStory(t)},n.updateUserStory=function(e){var t=n.props.location.state.room_name;_.database().ref(t).update({story:e})},n.getData=function(){_.database().ref(n.props.location.state.room_name).on("value",(function(e){var t=e.val().team_member;n.setState({team_member:t,story:e.val().story,isCreator:e.val().creator===n.props.location.state.name,sessions:e.val().sessions}),n.state.isCreator&&n.setState({button_status:n.state.sessions?"Reset":"Reveal Cards"}),e.val().sessions||n.setState({static_member:t})}))},n.joinRoom=function(){var e=n.props.location.state.room_name+"/team_member",t=_.database().ref(e),a=t.on("value",(function(o){t.off("value",a);var r=[],s=o.val();null!==s&&s.map((function(e){var t=e.name,a=e.story_point,n=e.status;return r.push({name:t,story_point:a,status:n})})),r.push({name:n.props.location.state.name,story_point:"",status:!1});var m=r.filter((function(e){return!r[e.name]&&(r[e.name]=!0)}));_.database().ref(e).update(m)}))},n.state={button_status:"Reveal Cards",team_member:[],static_member:[],story:"",isCreator:!1,sessions:!1},n}return Object(u.a)(a,[{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"App-header"},o.a.createElement("h3",null,"The story goes like this:"),this.state.isCreator?o.a.createElement("input",{type:"text",ref:"user_story",name:"user_story",className:"Input-text",placeholder:""===this.state.story?"Your user story goes here":this.state.story,onChange:this.handleInputChange}):o.a.createElement("p",{style:{textAlign:"center"}},this.state.story),this.state.isCreator?o.a.createElement("button",{type:"submit",className:"btn btn-primary",onClick:this.handleSubmit},this.state.button_status):"",o.a.createElement("hr",{style:{color:"white",backgroundColor:"white",height:.5,width:"100%"}}),o.a.createElement("div",{style:{margin:"5px"}},o.a.createElement("p",{style:{fontSize:"14px"}},"Room Name: ",this.props.location.state.room_name)),o.a.createElement("div",{className:"centerDiv"},o.a.createElement("ul",null,this.state.team_member.map((function(t,a){return o.a.createElement("li",{className:"cards__card",key:t.name},o.a.createElement(S,{card:t.name===e.props.location.state.name||e.state.sessions?""===t.story_point?t.name:t.story_point:""}),o.a.createElement("p",{style:t.status?{color:"white",fontWeight:"bold"}:{color:"grey"}},t.name))})))),o.a.createElement("hr",{style:{color:"white",backgroundColor:"white",height:.5,width:"100%"}}),o.a.createElement(w,{cards:x,room_name:this.props.location.state.room_name,name:this.props.location.state.name,sessions:this.state.sessions,team_member:this.state.team_member}))}},{key:"componentDidMount",value:function(){"join"===this.props.location.state.status&&this.joinRoom(),this.getData()}}]),a}(o.a.Component),R=function(){return o.a.createElement(m.a,null,o.a.createElement(i.c,null,o.a.createElement(i.a,{exact:!0,path:"/",component:y}),o.a.createElement(i.a,{path:"/lobby",component:j})))},I=function(e){return o.a.createElement(R,e)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(I,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[34,1,2]]]);
//# sourceMappingURL=main.170770fd.chunk.js.map