{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.GlobalStore = exports.GlobalStoreProvider = void 0;\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  } else {\n    var newObj = {};\n\n    if (obj != null) {\n      for (var key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key)) {\n          var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {};\n\n          if (desc.get || desc.set) {\n            Object.defineProperty(newObj, key, desc);\n          } else {\n            newObj[key] = obj[key];\n          }\n        }\n      }\n    }\n\n    newObj[\"default\"] = obj;\n    return newObj;\n  }\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest();\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nvar globalStore = function globalStore(init) {\n  var store = {};\n  Object.entries(init).forEach(function (prop) {\n    var _prop = _slicedToArray(prop, 2),\n        key = _prop[0],\n        value = _prop[1];\n\n    var hook = (0, _react.useState)(value);\n    store[key] = {\n      get: hook[0],\n      set: hook[1]\n    };\n  });\n\n  var get = function get(path) {\n    try {\n      return store[path].get;\n    } catch (_unused) {\n      console.log(\"Invalid path for get(): \\\"\".concat(path, \"\\\"\"));\n    }\n  };\n\n  var set = function set(path, value) {\n    try {\n      return store[path].set(value);\n    } catch (_unused2) {\n      console.log(\"Invalid path for set(): \\\"\".concat(path, \"\\\"\"));\n    }\n  };\n\n  return {\n    get: get,\n    set: set\n  };\n};\n\nvar AppContext = _react[\"default\"].createContext({});\n\nvar GlobalStoreProvider = function GlobalStoreProvider(_ref) {\n  var initValues = _ref.initValues,\n      children = _ref.children;\n  return _react[\"default\"].createElement(AppContext.Provider, {\n    value: globalStore(initValues)\n  }, children);\n};\n\nexports.GlobalStoreProvider = GlobalStoreProvider;\n\nvar GlobalStore = function GlobalStore() {\n  return (0, _react.useContext)(AppContext);\n};\n\nexports.GlobalStore = GlobalStore;","map":{"version":3,"sources":["../src/index.js"],"names":["globalStore","store","Object","key","value","hook","get","set","console","AppContext","React","GlobalStoreProvider","initValues","children","GlobalStore"],"mappings":";;;;;;;AACA,IAAA,MAAA,GAAA,uBAAA,CAAA,OAAA,CAAA,OAAA,CAAA,CAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAEA,IAAMA,WAAW,GAAG,SAAdA,WAAc,CAAA,IAAA,EAAU;AAC1B,MAAMC,KAAK,GAAX,EAAA;AACAC,EAAAA,MAAM,CAANA,OAAAA,CAAAA,IAAAA,EAAAA,OAAAA,CAA6B,UAAA,IAAA,EAAQ;AAAA,QAAA,KAAA,GAAA,cAAA,CAAA,IAAA,EAAA,CAAA,CAAA;AAAA,QAC1BC,GAD0B,GAAA,KAAA,CAAA,CAAA,CAAA;AAAA,QACrBC,KADqB,GAAA,KAAA,CAAA,CAAA,CAAA;;AAEjC,QAAMC,IAAI,GAAG,CAAA,GAAA,MAAA,CAAA,QAAA,EAAb,KAAa,CAAb;AACAJ,IAAAA,KAAK,CAALA,GAAK,CAALA,GAAa;AAAEK,MAAAA,GAAG,EAAED,IAAI,CAAX,CAAW,CAAX;AAAgBE,MAAAA,GAAG,EAAEF,IAAI,CAAA,CAAA;AAAzB,KAAbJ;AAHJC,GAAAA;;AAMA,MAAMI,GAAG,GAAG,SAANA,GAAM,CAAA,IAAA,EAAU;AAClB,QAAI;AACA,aAAOL,KAAK,CAALA,IAAK,CAALA,CAAP,GAAA;AADJ,KAAA,CAEE,OAAA,OAAA,EAAM;AACJO,MAAAA,OAAO,CAAPA,GAAAA,CAAAA,6BAAAA,MAAAA,CAAAA,IAAAA,EAAAA,IAAAA,CAAAA;AACH;AALL,GAAA;;AAOA,MAAMD,GAAG,GAAG,SAANA,GAAM,CAAA,IAAA,EAAA,KAAA,EAAiB;AACzB,QAAI;AACA,aAAON,KAAK,CAALA,IAAK,CAALA,CAAAA,GAAAA,CAAP,KAAOA,CAAP;AADJ,KAAA,CAEE,OAAA,QAAA,EAAM;AACJO,MAAAA,OAAO,CAAPA,GAAAA,CAAAA,6BAAAA,MAAAA,CAAAA,IAAAA,EAAAA,IAAAA,CAAAA;AACH;AALL,GAAA;;AAOA,SAAO;AAAEF,IAAAA,GAAG,EAAL,GAAA;AAAOC,IAAAA,GAAG,EAAHA;AAAP,GAAP;AAtBJ,CAAA;;AAyBA,IAAME,UAAU,GAAGC,MAAAA,CAAAA,SAAAA,CAAAA,CAAAA,aAAAA,CAAnB,EAAmBA,CAAnB;;AAEO,IAAMC,mBAAmB,GAAG,SAAtBA,mBAAsB,CAAA,IAAA,EAAA;AAAA,MAAGC,UAAH,GAAA,IAAA,CAAA,UAAA;AAAA,MAAeC,QAAf,GAAA,IAAA,CAAA,QAAA;AAAA,SAC/B,MAAA,CAAA,SAAA,CAAA,CAAA,aAAA,CAAC,UAAD,CAAA,QAAA,EAAA;AAAqB,IAAA,KAAK,EAAEb,WAAW,CAAA,UAAA;AAAvC,GAAA,EAD+B,QAC/B,CAD+B;AAA5B,CAAA;;;;AAMA,IAAMc,WAAW,GAAG,SAAdA,WAAc,GAAA;AAAA,SAAM,CAAA,GAAA,MAAA,CAAA,UAAA,EAAN,UAAM,CAAN;AAApB,CAAA","sourcesContent":["\nimport React, { useState, useContext } from 'react';\n\nconst globalStore = (init) => {\n    const store = {};\n    Object.entries(init).forEach(prop => {\n        const [key, value] = prop;\n        const hook = useState(value);\n        store[key] = { get: hook[0], set: hook[1] }\n    });\n\n    const get = (path) => {\n        try {\n            return store[path].get;\n        } catch {\n            console.log(`Invalid path for get(): \"${path}\"`)\n        }\n    }\n    const set = (path, value) => {\n        try {\n            return store[path].set(value);\n        } catch {\n            console.log(`Invalid path for set(): \"${path}\"`)\n        }\n    } \n    return { get, set }\n}\n\nconst AppContext = React.createContext({});\n\nexport const GlobalStoreProvider = ({ initValues, children }) => (\n    <AppContext.Provider value={globalStore(initValues)}>\n        {children}\n    </AppContext.Provider>\n)\n\nexport const GlobalStore = () => useContext(AppContext);"]},"metadata":{},"sourceType":"script"}