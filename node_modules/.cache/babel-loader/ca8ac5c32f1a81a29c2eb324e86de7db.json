{"ast":null,"code":"var _jsxFileName = \"/home/ryvaldie/General-Project/scrum-poker/src/containers/Login/Login.js\";\nimport React from 'react';\nimport '../../App.css';\nimport banner from './banner.png';\nimport firebase from '../../FirebaseConfig';\nimport { GlobalStoreProvider, GlobalStore } from 'global-store-hook';\n\nconst Login = () => {\n  let state = {\n    loading: false,\n    room_name: '',\n    name: '',\n    rooms: []\n  };\n\n  const getData = () => {\n    const store = GlobalStore();\n    state.setState.loading = true;\n    let ref = firebase.database().useRef('/rooms/' + state.room_name);\n    ref.on('value', snapshot => {\n      let data = snapshot.val();\n      console.log(\"ini room nya: \" + state.room_name + \"| ini datanya: \" + JSON.stringify(data));\n\n      if (data !== null && data['sessions'] === true && state.room_name !== '') {\n        state.setState({\n          loading: false,\n          rooms: snapshot.val()\n        }); // store.setState(state);\n\n        this.props.history.push('/lobby');\n      } else {\n        alert('Create or Enter a room name first!');\n      }\n    });\n  };\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    getData();\n  };\n\n  const handleInputChange = event => {\n    const {\n      name,\n      value\n    } = event.target;\n    state.setState({\n      [name]: value.toLowerCase()\n    });\n  }; // componentDidMount() {\n  //     if (this.state.room_name === '') {\n  //         // Login first\n  //         console.log('login dulu');\n  //     } else {\n  //         // Create room\n  //         console.log('udah login');\n  //         this.getData();\n  //     }\n  // }\n\n\n  return /*#__PURE__*/React.createElement(GlobalStoreProvider, {\n    initValues: state,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"App\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"header\", {\n    className: \"App-header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: banner,\n    className: \"App-logo\",\n    alt: \"logo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 25\n    }\n  }, \"Scrum Poker Online\"), /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 25\n    }\n  }, \"Enter or Create a Room Here:\"), /*#__PURE__*/React.createElement(\"form\", {\n    className: \"login-form\",\n    autoComplete: \"off\",\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      marginTop: '13px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    ref: \"room_name\",\n    name: \"room_name\",\n    className: \"form-control\",\n    placeholder: \"Room Name\",\n    required: true,\n    onChange: handleInputChange,\n    style: {\n      height: '32px',\n      width: \"370px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 37\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      marginTop: '13px',\n      marginBottom: '13px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    ref: \"name\",\n    name: \"name\",\n    className: \"form-control\",\n    placeholder: \"Name\",\n    required: true,\n    onChange: handleInputChange,\n    style: {\n      height: '32px',\n      width: \"370px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 37\n    }\n  }))), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    className: \"btn btn-primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 29\n    }\n  }, \"Submit\"))))));\n};\n\nexport default Login;","map":{"version":3,"sources":["/home/ryvaldie/General-Project/scrum-poker/src/containers/Login/Login.js"],"names":["React","banner","firebase","GlobalStoreProvider","GlobalStore","Login","state","loading","room_name","name","rooms","getData","store","setState","ref","database","useRef","on","snapshot","data","val","console","log","JSON","stringify","props","history","push","alert","handleSubmit","event","preventDefault","handleInputChange","value","target","toLowerCase","marginTop","height","width","marginBottom"],"mappings":"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","sourcesContent":["import React from 'react';\nimport '../../App.css';\nimport banner from './banner.png';\nimport firebase from '../../FirebaseConfig';\nimport { GlobalStoreProvider, GlobalStore } from 'global-store-hook';\n\nconst Login = () => {\n    let state = {\n        loading: false,\n        room_name: '',\n        name: '',\n        rooms: [],\n    };\n\n    const getData = () => {\n        const store = GlobalStore();\n        state.setState.loading = true;\n        let ref = firebase.database().useRef('/rooms/' + state.room_name);\n        ref.on('value', snapshot => {\n            let data = snapshot.val();\n            console.log(\"ini room nya: \" + state.room_name + \"| ini datanya: \" + JSON.stringify(data));\n            if (data !== null && data['sessions'] === true && state.room_name !== '') {\n                state.setState({ loading: false, rooms: snapshot.val() })\n                // store.setState(state);\n                this.props.history.push('/lobby');\n            } else {\n                alert('Create or Enter a room name first!');\n            }\n        })\n    }\n\n    const handleSubmit = (event) => {\n        event.preventDefault();\n        getData();\n    }\n\n    const handleInputChange = (event) => {\n        const { name, value } = event.target;\n        state.setState({ [name]: value.toLowerCase() });\n    };\n\n    // componentDidMount() {\n    //     if (this.state.room_name === '') {\n    //         // Login first\n    //         console.log('login dulu');\n    //     } else {\n    //         // Create room\n    //         console.log('udah login');\n    //         this.getData();\n    //     }\n    // }\n\n    return (\n        <GlobalStoreProvider initValues={state}>\n            <div className=\"App\">\n                <header className=\"App-header\">\n                    <div>\n                        <img src={banner} className=\"App-logo\" alt=\"logo\" />\n                        <h1>Scrum Poker Online</h1>\n                        <h1>Enter or Create a Room Here:</h1>\n                        <form className=\"login-form\" autoComplete=\"off\" onSubmit={handleSubmit}>\n                            <div className=\"form-row\">\n                                <div style={{ marginTop: '13px' }}>\n                                    <input type=\"text\" ref='room_name' name='room_name' className=\"form-control\" placeholder=\"Room Name\" required onChange={handleInputChange} style={{ height: '32px', width: \"370px\" }} />\n                                </div>\n                                <div style={{ marginTop: '13px', marginBottom: '13px' }}>\n                                    <input type=\"text\" ref='name' name='name' className=\"form-control\" placeholder=\"Name\" required onChange={handleInputChange} style={{ height: '32px', width: \"370px\" }} />\n                                </div>\n                            </div>\n                            <button type=\"submit\" className=\"btn btn-primary\">Submit</button>\n                        </form>\n                    </div>\n                </header>\n            </div>\n        </GlobalStoreProvider>\n    );\n}\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}